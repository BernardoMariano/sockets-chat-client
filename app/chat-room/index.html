<div class="chat-wrapper">
    <form>
        <md-input-container class="md-block">
          {{ externalAction || ' ' }}
          <label>Message</label>
          <textarea ng-model="body" ng-keypress="checkIfEnter($event);" ng-change="handleKeypress($event);" ng-model-options="{ debounce: 500 }" rows="2" md-select-on-focus></textarea>
          <md-button class="md-raised md-primary" ng-click="send()">Send!</md-button>
        </md-input-container>
    </form>
    <ul class="messages">
        <li class="message" ng-repeat="msg in messages track by $index" ng-class="{ 'is-system': msg.sender === 'system' }">
            <span class="message-time">{{ msg.time }}</span>
            <span class="message-sender">{{ msg.sender }}: </span>
            <span class="message-body">{{ msg.body }}</span>
        </li>
    </ul>
</div>
